{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/Escritorio/table_manager/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport MainTable from './main_table';\nimport data from './data.json';\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction getData() {\n  return data;\n}\n\nfunction App() {\n  _s();\n\n  const headersRef = useRef([]);\n  headersRef.current = [];\n  const rowsRef = useRef([]);\n  rowsRef.current = [];\n  var json = getData();\n  const headersText = [\"Region name\", \"Region alpha code\", \"Value\", \"Reference date\"];\n  var informationTable = [];\n  var infoRow = [];\n  json.map(data => {\n    infoRow.push(data.region_name);\n    infoRow.push(data.region_alpha_code);\n    infoRow.push(data.value);\n    infoRow.push(data.ref_date);\n    informationTable.push(infoRow);\n    infoRow = [];\n  });\n  var isReorderActive = false;\n  var infoOrigin = [];\n  var posOrigin;\n  var infoDestiny = [];\n  var posDestiny;\n\n  const addHeaderToRefs = el => {\n    if (el != null) {\n      headersRef.current.push(el);\n    }\n\n    console.log(headersRef.current);\n  };\n\n  const addRowToRefs = el => {\n    if (el != null) {\n      rowsRef.current.push(el);\n    }\n\n    console.log(rowsRef.current);\n  };\n\n  const renderHeaders = () => {\n    //HERE IS A LET !!!!!!!!!!!!!!!!!!!!!!!!\n    let headers = [];\n    headersText.map((header, i) => {\n      headers.push( /*#__PURE__*/_jsxDEV(\"th\", {\n        ref: addHeaderToRefs,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\" //onChange={(header)=>{this._handleChangeEvent(header);}} \n          ,\n          onKeyPress: event => keypressHandler(event, i),\n          defaultValue: header\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          onClick: handleReorderColumns(i),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa\",\n            children: \"\\uF014\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 22\n      }, this));\n      return headers;\n    });\n    return headers;\n  };\n\n  const keypressHandler = (event, currentPos) => {\n    if (event.key === \"Enter\") {//this.setState({ value: this.inputRef.current.value });\n      //console.log(Array.from(this.headersRef.current.cells));\n      //headersRef.current[currentPos].childNodes[0].blur();\n      //this.inputRef.current.blur();\n      //this.inputRef.current.value = \"\";*/\n    }\n  };\n\n  const handleReorderColumns = currentPos => {\n    console.log(rowsRef.current);\n\n    if (isReorderActive) {\n      posDestiny = currentPos;\n      reOrderColumns(posOrigin, posDestiny);\n      isReorderActive = false;\n    } else {\n      posOrigin = currentPos;\n      isReorderActive = true;\n    }\n  };\n\n  function reOrderColumns(posOrigin, posDestiny) {\n    infoOrigin = getInformationColumn(posOrigin);\n    infoDestiny = getInformationColumn(posDestiny);\n\n    for (var i = 0; i < informationTable.length; i++) {\n      rowsRef.current[i].cells[posOrigin].innerText = infoDestiny[i];\n      rowsRef.current[i].cells[posDestiny].innerText = infoOrigin[i];\n      informationTable[i][posOrigin] = infoDestiny[i];\n      informationTable[i][posDestiny] = infoOrigin[i];\n    }\n  }\n\n  ;\n\n  function getInformationColumn(currentPos) {\n    var selectedInformation = [];\n\n    for (var i = 0; i < informationTable.length; i++) {\n      selectedInformation.push(informationTable[i][currentPos]);\n    }\n\n    return selectedInformation;\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: renderHeaders()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: informationTable.map((data, i) => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            ref: addRowToRefs,\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: data[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: data[1]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: data[2]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: data[3]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"MI0cH6AenWuNbMCNSkqY64t9Kr8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/gabriel/Escritorio/table_manager/src/App.js"],"names":["MainTable","data","React","useRef","useEffect","useState","getData","App","headersRef","current","rowsRef","json","headersText","informationTable","infoRow","map","push","region_name","region_alpha_code","value","ref_date","isReorderActive","infoOrigin","posOrigin","infoDestiny","posDestiny","addHeaderToRefs","el","console","log","addRowToRefs","renderHeaders","headers","header","i","event","keypressHandler","handleReorderColumns","currentPos","key","reOrderColumns","getInformationColumn","length","cells","innerText","selectedInformation"],"mappings":"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","sourcesContent":["import './App.css';\nimport MainTable from './main_table';\nimport data from './data.json';\nimport React, {useRef,useEffect,useState} from \"react\";\n\nfunction getData() {\n  return data;\n}\n\nfunction App() {\n\n  const headersRef = useRef([]); \n  headersRef.current = []; \n  const rowsRef = useRef([]);\n  rowsRef.current = [];\n\n  var json = getData();\n  const headersText = [\"Region name\",\n                       \"Region alpha code\",\n                       \"Value\",\n                       \"Reference date\"];\n\n  var informationTable = [];\n  var infoRow = []; \n\n  json.map((data) => {\n    infoRow.push(data.region_name);\n    infoRow.push(data.region_alpha_code);\n    infoRow.push(data.value);\n    infoRow.push(data.ref_date);\n    informationTable.push(infoRow);\n    infoRow = []; \n  });\n\n  var isReorderActive = false;\n  var infoOrigin = [];\n  var posOrigin; \n  var infoDestiny = [];\n  var posDestiny;\n\n\n  const addHeaderToRefs = (el) =>{\n    if(el!=null){\n      headersRef.current.push(el);\n    }\n    console.log(headersRef.current);\n  };\n\n  const addRowToRefs = (el) =>{\n    if(el!=null){\n      rowsRef.current.push(el);\n    }\n    console.log(rowsRef.current);\n  };\n          \n  const renderHeaders = () => {\n    //HERE IS A LET !!!!!!!!!!!!!!!!!!!!!!!!\n    let headers = [];\n    headersText.map((header,i) => {\n        headers.push(<th ref={addHeaderToRefs}>\n                     <input type=\"text\" \n                        //onChange={(header)=>{this._handleChangeEvent(header);}} \n                        onKeyPress={event => keypressHandler(event,i)} \n                        defaultValue={header}/>\n                     <a href=\"#\" onClick={handleReorderColumns(i)}>\n                         <i class=\"fa\">&#xf014;</i></a> \n                     </th>);\n        return headers; \n    }); \n    return headers;\n  }\n\n  const keypressHandler = (event,currentPos) => {\n    if (event.key === \"Enter\") {\n        //this.setState({ value: this.inputRef.current.value });\n        //console.log(Array.from(this.headersRef.current.cells));\n        //headersRef.current[currentPos].childNodes[0].blur();\n        //this.inputRef.current.blur();\n        //this.inputRef.current.value = \"\";*/\n    }\n  };\n\n  const handleReorderColumns = (currentPos) => {\n    console.log(rowsRef.current);\n    if(isReorderActive){\n      posDestiny = currentPos;\n      reOrderColumns(posOrigin,posDestiny);\n      isReorderActive = false; \n    }else{\n      posOrigin = currentPos;\n      isReorderActive = true; \n    }\n  }\n\n  function reOrderColumns(posOrigin,posDestiny){\n    infoOrigin = getInformationColumn(posOrigin);\n    infoDestiny = getInformationColumn(posDestiny);\n    for(var i = 0; i < informationTable.length; i++){\n      rowsRef.current[i].cells[posOrigin].innerText = infoDestiny[i];\n      rowsRef.current[i].cells[posDestiny].innerText = infoOrigin[i];\n      informationTable[i][posOrigin] = infoDestiny[i];\n      informationTable[i][posDestiny] = infoOrigin[i];\n    }\n  };\n\n  function getInformationColumn(currentPos){\n    var selectedInformation = [];\n    for(var i = 0; i < informationTable.length; i++){\n      selectedInformation.push(informationTable[i][currentPos]);\n    }\n    return selectedInformation;\n  };\n\n  return (\n    <div className=\"App\">\n      <table>\n        <thead>\n          <tr>\n              {renderHeaders()}\n          </tr>\n        </thead>\n        <tbody>\n          { informationTable.map((data, i) => {\n            return (\n                <tr key={i} ref={addRowToRefs}>\n                <td>{data[0]}</td>\n                <td>{data[1]}</td>\n                <td>{data[2]}</td>\n                <td>{data[3]}</td>\n                </tr>\n            )\n          })}\n        </tbody>\n      </table>  \n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}